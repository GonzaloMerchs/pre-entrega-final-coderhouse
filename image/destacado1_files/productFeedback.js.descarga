function submitProductFeedback(){let continueFlag=true;$j('.btn-submitFeedback').hide();$j('.disclaimer').hide();$j('.loading-submitFeedback').show();if($j('#product_option_select').hasClass('valid-fail')){continueFlag=false;$j(this).addClass('invalid-input');$j('#product_option_select-fail').fadeIn();}else{$j('#product_option_select').removeClass('invalid-input');$j('#product_option_select-fail').hide();}
let customer_feedback=$j('#product_option_textarea').val();if(customer_feedback.length>3){$j('#product_option_textarea').removeClass('invalid-input');$j('#product_option_textarea').removeClass('valid-fail');$j('#product_option_textarea-fail').hide();}else{continueFlag=false;$j('#product_option_textarea').addClass('invalid-input');$j('#product_option_textarea').addClass('valid-fail');$j('#product_option_textarea-fail').fadeIn();}
if(continueFlag){$j('#product_feedback_ajax-fail').hide();let product_option=$j('#product_option_select option:selected').text();let product_sku=$j('#SKU_producto_ajax').html();let ajaxSendProductFeedback=jQuery.ajax({url:window.URL_AJAX_PRODUCT_FEEDBACK,type:'POST',data:{product_option:product_option,customer_feedback:customer_feedback,product_sku:product_sku},dataType:"html"});ajaxSendProductFeedback.done(function(msg){if(msg!='success'){showSubmitButton();$j('#product_feedback_ajax-fail').fadeIn();}else{showSuccesMsg();}});ajaxSendProductFeedback.fail(function(jqXHR,textStatus,errorThrown){showSubmitButton();$j('#product_feedback_ajax-fail').fadeIn();});}else{showSubmitButton();}}
$j('#product_option_select').on('change',function(){if($j(this).val()!==''){$j(this).removeClass('valid-fail');}else{$j(this).addClass('valid-fail');}});function showSubmitButton(){$j('.btn-submitFeedback').show();$j('.disclaimer').show();$j('.loading-submitFeedback').hide();}
function showSuccesMsg(){$j('.loading-submitFeedback').hide();$j('.form-div').remove();$j('.submitFeedback-success').show();}